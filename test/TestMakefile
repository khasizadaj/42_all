NAME = test_push_swap

SRC_DIR = src
UTILS_DIR = utils
ALG_DIR = alg
TEST_DIR = test
LIBFT_DIR = ./${SRC_DIR}/libft

SRCS =	${SRC_DIR}/${UTILS_DIR}/reverse_instructions.c ${SRC_DIR}/${UTILS_DIR}/swap_instructions.c 
OBJS = ${SRCS:.c=.o}

TEST_SRCS =	${TEST_DIR}/main.c
TEST_OBJS = ${TEST_SRCS:.c=.o}

CC = cc

CFLAGS = -Wall -Wextra -Werror -I ./include

all: ${NAME}

${NAME}: ${TEST_OBJS} ${OBJS}
	@${MAKE} -C ${LIBFT_DIR} --no-print-directory
	@${CC} ${CFLAGS} ${OBJS} ${TEST_OBJS} ${LIBFT_DIR}/libft.a -o ${NAME}

%.o: %.c
	echo ${OBJS} 
	$(CC) $(CFLAGS) -c $< -o $@

clean:
	@${MAKE} -C ${LIBFT_DIR} --no-print-directory fclean
	@${RM} ${OBJS}

fclean: clean
	@${RM} -f ${NAME}

re: fclean all

.PHONY: all clean fclean re
